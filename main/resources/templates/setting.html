<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>è¨­å®š</title>
  <!-- å¾©ç”¨å·²ç™»å…¥é¦–é çš„å…¨åŸŸæ¨£å¼ -->
  <link rel="stylesheet" href="ä¸»åŠŸèƒ½é .css" />
  <style>
    /* â€”â€” å¾ å·²ç™»å…¥é¦–é  è¤‡è£½çš„æ ¹è®Šæ•¸ â€”â€” */
    :root {
      --bg-primary: #0d0d0f;
      --bg-secondary: #1a1a1c;
      --text-light: #c3c3c3;
      --bg-bot-input: #2a2a2e;
      --text-bot: #e5e7eb;
      --bg-user: #3e3e42;
      --text-user: #f3f4f6;
      --border-input: #2c2c2e;
      --placeholder: #6b7280;
      --btn-disabled: #4b5563;
      --accent-green: #61f6d6;
      --accent-hover: #4fd1b1;
      --white: #ffffff;
      --black: #0d0d0f;
      --nav-hover: #ffffff;
      --sidebar-hover: #4fd1b1;
    }

    /* ä¸»é¡Œè®Šæ•¸ - æ·±è—è‰²ä¸»é¡Œ */
    .theme-blue {
      --bg-primary: #0f1419;
      --bg-secondary: #1e2a3a;
      --text-light: #b8c5d1;
      --bg-bot-input: #2a3441;
      --text-bot: #d4e1ed;
      --bg-user: #3a4a5c;
      --text-user: #e6f1ff;
      --border-input: #34424f;
      --placeholder: #6b7c8a;
      --btn-disabled: #4a5866;
      --white: #ffffff;
      --black: #0f1419;
      --accent-green: #4a9eff;
      --accent-hover: #3a8eef;
    }

    /* ä¸»é¡Œè®Šæ•¸ - ç²‰è‰²ä¸»é¡Œ */
    .theme-pink {
      /* ä¸»è¦èƒŒæ™¯å’Œæ–‡å­— */
      --bg-primary: #fdf2f8;
      --bg-secondary: #fce7f3;
      --text-light: #881c4f;
      --white: #881c4f;
      --black: #fdf2f8;
      
      /* èŠå¤©ç³»çµ± */
      --bg-bot-input: #fbcfe8;
      --text-bot: #881c4f;
      --bg-user: #db2777;
      --text-user: #fdf2f8;
      
      /* ç•Œé¢å…ƒç´  */
      --border-input: #be185d;
      --placeholder: #9d174d;
      --btn-disabled: #fbcfe8;
      --border-light: #db2777;
      --color-selected: #9d174d;
      
      /* é®ç½©æ•ˆæœ */
      --overlay-bg: rgba(136, 28, 79, 0.7);
      --overlay-text-bg: rgba(136, 28, 79, 0.8);
      --text-shadow: #fdf2f8;
      
      /* ç¹ªåœ–å·¥å…· */
      --pen-color-default: #881c4f;
      --eraser-color: #db2777;
      --color-picker-bg: rgba(253, 242, 248, 0.95);
      --color-border-transparent: rgba(136, 28, 79, 0.4);
      
      /* ç¹ªåœ–é¡è‰² */
      --color-red: #dc267f;
      --color-yellow: #fbbf24;
      --color-blue: #3b82f6;
      --color-white: #881c4f;
      
      /* è¼‰å…¥å‹•ç•« */
      --spinner-border: #fbcfe8;
      
      /* é™°å½±æ•ˆæœ */
      --shadow-light: rgba(136, 28, 79, 0.1);
      --shadow-medium: rgba(136, 28, 79, 0.2);
      --shadow-dark: rgba(136, 28, 79, 0.4);
      --box-shadow-dark: rgba(136, 28, 79, 0.3);
      --box-shadow-medium: rgba(136, 28, 79, 0.2);
      --box-shadow-light: rgba(136, 28, 79, 0.1);
      --box-shadow-strong: rgba(136, 28, 79, 0.4);
      
      /* é¸ä¸­ç™¼å…‰æ•ˆæœ */
      --selected-glow: rgba(136, 28, 79, 0.8);
      --selected-glow-light: rgba(136, 28, 79, 0.4);
      --selected-glow-medium: rgba(136, 28, 79, 0.6);
      --selected-glow-strong: rgba(136, 28, 79, 0.7);
      
      /* å¼·èª¿è‰² */
      --accent-green: #ec4899;
      --accent-hover: #db2777;
    }

    /* ä¸»é¡Œè®Šæ•¸ - å¤©ç©ºè—ä¸»é¡Œ */
    .theme-sky {
      /* ä¸»è¦èƒŒæ™¯å’Œæ–‡å­— */
      --bg-primary: #f0f9ff;
      --bg-secondary: #e0f2fe;
      --text-light: #0c4a6e;
      --white: #0c4a6e;
      --black: #f0f9ff;
      
      /* èŠå¤©ç³»çµ± */
      --bg-bot-input: #bae6fd;
      --text-bot: #0c4a6e;
      --bg-user: #0ea5e9;
      --text-user: #f0f9ff;
      
      /* ç•Œé¢å…ƒç´  */
      --border-input: #38bdf8;
      --placeholder: #075985;
      --btn-disabled: #bae6fd;
      --border-light: #0ea5e9;
      --color-selected: #075985;
      
      /* é®ç½©æ•ˆæœ */
      --overlay-bg: rgba(12, 74, 110, 0.7);
      --overlay-text-bg: rgba(12, 74, 110, 0.8);
      --text-shadow: #f0f9ff;
      
      /* ç¹ªåœ–å·¥å…· */
      --pen-color-default: #0c4a6e;
      --eraser-color: #0ea5e9;
      --color-picker-bg: rgba(240, 249, 255, 0.95);
      --color-border-transparent: rgba(12, 74, 110, 0.4);
      
      /* ç¹ªåœ–é¡è‰² */
      --color-red: #ef4444;
      --color-yellow: #fbbf24;
      --color-blue: #0ea5e9;
      --color-white: #0c4a6e;
      
      /* è¼‰å…¥å‹•ç•« */
      --spinner-border: #bae6fd;
      
      /* é™°å½±æ•ˆæœ */
      --shadow-light: rgba(12, 74, 110, 0.1);
      --shadow-medium: rgba(12, 74, 110, 0.2);
      --shadow-dark: rgba(12, 74, 110, 0.4);
      --box-shadow-dark: rgba(12, 74, 110, 0.3);
      --box-shadow-medium: rgba(12, 74, 110, 0.2);
      --box-shadow-light: rgba(12, 74, 110, 0.1);
      --box-shadow-strong: rgba(12, 74, 110, 0.4);
      
      /* é¸ä¸­ç™¼å…‰æ•ˆæœ */
      --selected-glow: rgba(12, 74, 110, 0.8);
      --selected-glow-light: rgba(12, 74, 110, 0.4);
      --selected-glow-medium: rgba(12, 74, 110, 0.6);
      --selected-glow-strong: rgba(12, 74, 110, 0.7);
      
      /* å¼·èª¿è‰² */
      --accent-green: #0ea5e9;
      --accent-hover: #0284c7;
    }

    /* ä¸»é¡Œè®Šæ•¸ - äº®è‰²ä¸»é¡Œ */
    .theme-light {
      /* ä¸»è¦èƒŒæ™¯å’Œæ–‡å­— */
      --bg-primary: rgb(237, 233, 223);
      --bg-secondary: rgb(255, 251, 240);
      --text-light: rgb(25, 20, 16);
      --white: rgb(25, 20, 16);
      --black: rgb(255, 251, 240);
      
      /* èŠå¤©ç³»çµ± */
      --bg-bot-input: rgb(225, 221, 211);
      --text-bot: rgb(25, 20, 16);
      --bg-user: rgb(140, 136, 126);
      --text-user: rgb(255, 251, 240);
      
      /* ç•Œé¢å…ƒç´  */
      --border-input: rgb(160, 160, 160);
      --placeholder: rgb(100, 96, 86);
      --btn-disabled: rgb(180, 176, 166);
      --border-light: rgb(200, 196, 186);
      --color-selected: rgb(100, 96, 86);
      
      /* é®ç½©æ•ˆæœ */
      --overlay-bg: rgba(25, 20, 16, 0.7);
      --overlay-text-bg: rgba(25, 20, 16, 0.8);
      --text-shadow: rgb(255, 251, 240);
      
      /* ç¹ªåœ–å·¥å…· */
      --pen-color-default: rgb(25, 20, 16);
      --eraser-color: rgb(140, 136, 126);
      --color-picker-bg: rgba(255, 251, 240, 0.95);
      --color-border-transparent: rgba(25, 20, 16, 0.4);
      
      /* ç¹ªåœ–é¡è‰² */
      --color-red: rgb(193, 44, 50);
      --color-yellow: rgb(193, 147, 44);
      --color-blue: rgb(67, 98, 197);
      --color-white: rgb(25, 20, 16);
      
      /* è¼‰å…¥å‹•ç•« */
      --spinner-border: rgb(200, 196, 186);
      
      /* é™°å½±æ•ˆæœ */
      --shadow-light: rgba(25, 20, 16, 0.1);
      --shadow-medium: rgba(25, 20, 16, 0.2);
      --shadow-dark: rgba(25, 20, 16, 0.4);
      --box-shadow-dark: rgba(25, 20, 16, 0.3);
      --box-shadow-medium: rgba(25, 20, 16, 0.2);
      --box-shadow-light: rgba(25, 20, 16, 0.1);
      --box-shadow-strong: rgba(25, 20, 16, 0.4);
      
      /* é¸ä¸­ç™¼å…‰æ•ˆæœ */
      --selected-glow: rgba(25, 20, 16, 0.8);
      --selected-glow-light: rgba(25, 20, 16, 0.4);
      --selected-glow-medium: rgba(25, 20, 16, 0.6);
      --selected-glow-strong: rgba(25, 20, 16, 0.7);
      
      /* å¼·èª¿è‰² */
      --accent-green: #9ca3af;
      --accent-hover: #6b7280;
      
      /* äº®è‰²ä¸»é¡Œå°ˆç”¨çš„ hover é¡è‰² */
      --hover-color: #374151;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      display: flex;
      flex-direction: column;
      color: var(--text-light);
      font-family: "Noto Sans TC", Arial, sans-serif;
    }
    body {
      min-height: 100vh;
      background: var(--bg-primary);
    }

    /* â€”â€” Header èˆ‡ Footer â€”â€” */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--bg-secondary);
      color: var(--text-light);
      padding: 16px 24px;
      font-size: 1.3em;
    }
    .navbar-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      max-width: 1600px;
      margin: 0 auto;
      padding: 0 24px;
      box-sizing: border-box;
    }
    .nav-links { display: flex; gap: 30px; }
    .nav-links > div { position: relative; padding: 0 1rem; cursor: pointer; color: var(--text-light); }
    .nav-links > div::before,
    .nav-links > div::after {
      content: "";
      position: absolute;
      left: 0; right: 0; height: 2px;
      background: var(--text-light);
      transform: scaleX(0);
      transition: transform 0.15s ease;
    }
    .nav-links > div::before { top: -16px; }
    .nav-links > div::after  { bottom: -16px; }
    .nav-links > div:hover { color: var(--white); }
    .nav-links > div:hover::before,
    .nav-links > div:hover::after { transform: scaleX(1); }

    /* æ·±è‰²ä¸»é¡Œ hover ä½¿ç”¨ç™½è‰²ï¼Œäº®è‰²ä¸»é¡Œ hover ä½¿ç”¨ä¸åŒé¡è‰² */
    .theme-light .nav-links > div:hover,
    .theme-pink .nav-links > div:hover,
    .theme-sky .nav-links > div:hover {
      color: var(--accent-green) !important;
    }

    /* ç•¶å‰é é¢ç‹€æ…‹ */
    .nav-current-page {
      color: var(--white) !important;
    }

    .theme-light .nav-current-page,
    .theme-pink .nav-current-page,
    .theme-sky .nav-current-page {
      color: var(--accent-green) !important;
    }

    .footer {
      background: var(--bg-secondary);
      color: var(--text-light);
      width: 100%;
      padding: 18px 0;
      text-align: center;
      font-size: 1.14em;
    }

    /* â€”â€” ä¸»å…§å®¹å€ â€”â€” */
    main {
      flex: 1;
      display: flex;
      justify-content: center;
      padding: 24px;
    }
    .settings-center {
      display: flex;
      width: 100%;
      max-width: 1600px;
      gap: 0;
      min-height: 100%;
    }
    .sidebar {
      width: 240px;
      background: var(--bg-secondary);
      padding: 0;
      box-sizing: border-box;
      position: relative;
      display: flex;
      flex-direction: column;
    }
    .sidebar-content {
      background: var(--bg-secondary);
      position: relative;
    }
    .sidebar h2 {
      margin: 0;
      font-size: 1.2em;
      color: var(--text-light);
      background: var(--bg-secondary);
      padding: 16px;
      font-weight: normal;
      position: relative;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .sidebar h2:hover {
      color: var(--white);
    }
    .sidebar h2.active {
      background: var(--accent-green);
      color: var(--black);
    }
    .sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
      background: var(--bg-secondary);
    }
    .sidebar li {
      margin: 0;
      cursor: pointer;
      color: var(--text-light);
      padding: 16px;
      font-size: 1.2em;
      transition: all 0.2s ease;
      position: relative;
      background: var(--bg-secondary);
      border-bottom: 1px solid var(--bg-primary);
    }
    .sidebar li:hover {
      color: var(--accent-green);
    }
    .sidebar li.active {
      background: var(--accent-green);
      color: var(--black);
    }

    .content {
      flex: 1;
      background: var(--bg-secondary);
      padding: 24px;
      box-sizing: border-box;
    }

    /* è¨­å®šå€å¡Šæ¨£å¼ */
    .settings-section {
      background: var(--bg-primary);
      border-radius: 8px;
      padding: 24px;
      margin-bottom: 24px;
      border: 1px solid var(--border-input);
    }

    .section-title {
      font-size: 1.4em;
      margin-bottom: 20px;
      color: var(--text-light);
      border-bottom: 2px solid var(--accent-green);
      padding-bottom: 8px;
    }

    /* å€‹äººè³‡æ–™æ¨£å¼ */
    .profile-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 0;
      border-bottom: 1px solid var(--border-input);
    }

    .profile-item:last-child {
      border-bottom: none;
    }

    .profile-label {
      font-size: 1.1em;
      color: var(--text-light);
      min-width: 100px;
    }

    .profile-value {
      flex: 1;
      margin: 0 16px;
      color: var(--text-bot);
    }

    .profile-input {
      flex: 1;
      margin: 0 16px;
      background: var(--bg-bot-input);
      border: 1px solid var(--border-input);
      border-radius: 4px;
      padding: 8px 12px;
      color: var(--text-bot);
      font-size: 1em;
    }

    .profile-input::placeholder {
      color: var(--placeholder);
    }

    .btn {
      background: var(--accent-green);
      color: #0d0d0f;
      border: none;
      border-radius: 4px;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 0.95em;
      transition: background-color 0.2s ease;
    }

    .btn:hover {
      background: var(--accent-hover);
    }

    .btn-danger {
      background: #ef4444;
      color: white;
    }

    .btn-danger:hover {
      background: #dc2626;
    }

    .btn-secondary {
      background: var(--bg-user);
      color: var(--text-user);
    }

    .btn-secondary:hover {
      background: #4a5568;
    }

    /* ä¸»é¡Œé¸æ“‡æ¨£å¼ */
    .theme-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 16px;
    }

    .theme-card {
      background: var(--bg-bot-input);
      border: 2px solid var(--border-input);
      border-radius: 8px;
      padding: 16px;
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
    }

    .theme-card:hover {
      border-color: var(--accent-green);
      transform: translateY(-2px);
    }

    .theme-card.active {
      border-color: var(--accent-green);
      background: var(--bg-user);
    }

    .theme-name {
      font-size: 1.1em;
      margin-bottom: 12px;
      color: var(--text-light);
      text-align: center;
    }

    .theme-preview {
      height: 80px;
      border-radius: 4px;
      margin-bottom: 12px;
      position: relative;
      overflow: hidden;
      background-image: url('https://fakeimg.ryd.tools/1440x1080');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .theme-actions {
      display: flex;
      gap: 8px;
      justify-content: center;
    }

    /* æ¨¡æ…‹æ¡†æ¨£å¼ */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: var(--bg-secondary);
      border-radius: 8px;
      padding: 24px;
      max-width: 400px;
      width: 90%;
      border: 1px solid var(--border-input);
    }

    .modal-title {
      font-size: 1.2em;
      margin-bottom: 16px;
      color: var(--text-light);
    }

    .modal-body {
      margin-bottom: 20px;
    }

    .modal-actions {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }

    .form-group {
      margin-bottom: 16px;
    }

    .form-label {
      display: block;
      margin-bottom: 6px;
      color: var(--text-light);
      font-size: 0.95em;
    }

    .form-input {
      width: 100%;
      background: var(--bg-bot-input);
      border: 1px solid var(--border-input);
      border-radius: 4px;
      padding: 10px 12px;
      color: var(--text-bot);
      font-size: 1em;
      box-sizing: border-box;
    }

    .form-input::placeholder {
      color: var(--placeholder);
    }

    /* å‹•ç•« */
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    .modal.show {
      display: flex;
    }

    .modal.show .modal-content {
      animation: fadeIn 0.2s ease;
    }

    /* Toast é€šçŸ¥æ¨£å¼ */
    .toast-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 10000;
      display: flex;
      flex-direction: column;
      gap: 12px;
      pointer-events: none;
    }

    .toast {
      background: var(--bg-secondary);
      color: var(--text-light);
      padding: 16px 20px;
      border-radius: 8px;
      border-left: 4px solid var(--accent-green);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      min-width: 300px;
      max-width: 400px;
      pointer-events: auto;
      transform: translateX(100%);
      opacity: 0;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .toast.show {
      transform: translateX(0);
      opacity: 1;
    }

    .toast.hide {
      transform: translateX(100%);
      opacity: 0;
    }

    .toast-success {
      border-left-color: #10b981;
    }

    .toast-error {
      border-left-color: #ef4444;
    }

    .toast-warning {
      border-left-color: #f59e0b;
    }

    .toast-info {
      border-left-color: var(--accent-green);
    }

    .toast-preview {
      border-left-color: var(--accent-green);
      background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-bot-input) 100%);
      border: 1px solid var(--accent-green);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 0 0 1px var(--accent-green);
    }

    .toast-preview .toast-title {
      color: var(--accent-green);
    }

    .toast-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 4px;
    }

    .toast-title {
      font-weight: 600;
      font-size: 0.95em;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .toast-close {
      background: none;
      border: none;
      color: var(--text-light);
      cursor: pointer;
      font-size: 1.2em;
      padding: 0;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: background-color 0.2s ease;
    }

    .toast-close:hover {
      background: var(--bg-primary);
    }

    .toast-message {
      font-size: 0.9em;
      opacity: 0.9;
      line-height: 1.4;
    }

    .toast-progress {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 3px;
      background: var(--accent-green);
      transition: width linear;
      border-radius: 0 0 8px 8px;
    }

    .toast-success .toast-progress {
      background: #10b981;
    }

    .toast-error .toast-progress {
      background: #ef4444;
    }

    .toast-warning .toast-progress {
      background: #f59e0b;
    }

    .toast-preview .toast-progress {
      background: var(--accent-green);
    }

    /* Toast åœ–æ¨™ */
    .toast-icon {
      font-size: 1.1em;
    }

    /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
    @media (max-width: 768px) {
      .settings-center {
        flex-direction: column;
      }
      
      .sidebar {
        width: 100%;
      }
      
      .theme-grid {
        grid-template-columns: 1fr;
      }
      
      .profile-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
      }
      
      .profile-value,
      .profile-input {
        margin: 0;
        width: 100%;
      }

      .toast-container {
        top: 10px;
        right: 10px;
        left: 10px;
      }

      .toast {
        min-width: auto;
        max-width: none;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="navbar">
    <div class="navbar-container">
      <div>Logo</div>
      <div class="nav-links">
        <div>è³‡æ–™ä¸­å¿ƒ</div>
        <div>å•†åŸ</div>
        <div>ç¶“é©—å€¼</div>
        <div class="nav-current-page">è¨­å®š</div>
      </div>
    </div>
  </header>

  <main>
    <div class="settings-center">
      <!-- å·¦å´é¸å–® -->
      <aside class="sidebar">
        <div class="sidebar-content">
          <ul id="sidebarMenu">
            <li class="active" onclick="showSection(this, 'profile')">å€‹äººè³‡æ–™</li>
            <li onclick="showSection(this, 'theme')">ä¸»é¡Œæ›´æ›</li>
          </ul>
        </div>
      </aside>

      <!-- å³å´å…§å®¹ -->
      <section class="content">
        <!-- å€‹äººè³‡æ–™å€å¡Š -->
        <div id="profile-section" class="settings-section">
          <h2 class="section-title">å€‹äººè³‡æ–™</h2>
          
          <div class="profile-item">
            <span class="profile-label">å§“å</span>
            <span class="profile-value" id="userName">å¼µå°æ˜</span>
            <button class="btn" onclick="editProfile('name')">ç·¨è¼¯</button>
          </div>
          
          <div class="profile-item">
            <span class="profile-label">éƒµç®±</span>
            <span class="profile-value" id="userEmail">user@example.com</span>
            <button class="btn" onclick="editProfile('email')">ç·¨è¼¯</button>
          </div>
          
          <div class="profile-item">
            <span class="profile-label">å¯†ç¢¼</span>
            <span class="profile-value">â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</span>
            <button class="btn" onclick="changePassword()">æ›´æ”¹å¯†ç¢¼</button>
          </div>
          
          <div style="text-align: center; margin-top: 24px;">
            <button class="btn btn-danger" onclick="logout()">ç™»å‡º</button>
          </div>
        </div>

        <!-- ä¸»é¡Œæ›´æ›å€å¡Š -->
        <div id="theme-section" class="settings-section" style="display: none;">
          <h2 class="section-title">ä¸»é¡Œæ›´æ›</h2>
          
          <div class="theme-grid">
            <!-- æ·±è‰²ä¸»é¡Œ -->
            <div class="theme-card active" data-theme="dark" onclick="selectTheme(this, 'dark')">
              <div class="theme-name">æ·±è‰²ä¸»é¡Œ</div>
              <div class="theme-preview"></div>
              <div class="theme-actions">
                <button class="btn btn-secondary" onclick="previewTheme('dark')">é è¦½</button>
                <button class="btn" onclick="applyTheme('dark')">å¥—ç”¨</button>
              </div>
            </div>
            
            <!-- äº®è‰²ä¸»é¡Œ -->
            <div class="theme-card" data-theme="light" onclick="selectTheme(this, 'light')">
              <div class="theme-name">äº®è‰²ä¸»é¡Œ</div>
              <div class="theme-preview"></div>
              <div class="theme-actions">
                <button class="btn btn-secondary" onclick="previewTheme('light')">é è¦½</button>
                <button class="btn" onclick="applyTheme('light')">å¥—ç”¨</button>
              </div>
            </div>
            
            <!-- æ·±è—è‰²ä¸»é¡Œ -->
            <div class="theme-card" data-theme="blue" onclick="selectTheme(this, 'blue')">
              <div class="theme-name">æ·±è—è‰²ä¸»é¡Œ</div>
              <div class="theme-preview"></div>
              <div class="theme-actions">
                <button class="btn btn-secondary" onclick="previewTheme('blue')">é è¦½</button>
                <button class="btn" onclick="applyTheme('blue')">å¥—ç”¨</button>
              </div>
            </div>
            
            <!-- ç²‰è‰²ä¸»é¡Œ -->
            <div class="theme-card" data-theme="pink" onclick="selectTheme(this, 'pink')">
              <div class="theme-name">ç²‰è‰²ä¸»é¡Œ</div>
              <div class="theme-preview"></div>
              <div class="theme-actions">
                <button class="btn btn-secondary" onclick="previewTheme('pink')">é è¦½</button>
                <button class="btn" onclick="applyTheme('pink')">å¥—ç”¨</button>
              </div>
            </div>
            
            <!-- å¤©ç©ºè—ä¸»é¡Œ -->
            <div class="theme-card" data-theme="sky" onclick="selectTheme(this, 'sky')">
              <div class="theme-name">å¤©ç©ºè—ä¸»é¡Œ</div>
              <div class="theme-preview"></div>
              <div class="theme-actions">
                <button class="btn btn-secondary" onclick="previewTheme('sky')">é è¦½</button>
                <button class="btn" onclick="applyTheme('sky')">å¥—ç”¨</button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">å®¢æœä¿¡ç®±</footer>

  <!-- Toast å®¹å™¨ -->
  <div class="toast-container" id="toastContainer"></div>

  <!-- ç·¨è¼¯å€‹äººè³‡æ–™æ¨¡æ…‹æ¡† -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <div class="modal-title" id="modalTitle">ç·¨è¼¯å€‹äººè³‡æ–™</div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label" id="modalLabel">å§“å</label>
          <input type="text" class="form-input" id="modalInput" placeholder="è«‹è¼¸å…¥æ–°çš„å§“å">
        </div>
      </div>
      <div class="modal-actions">
        <button class="btn btn-secondary" onclick="closeModal()">å–æ¶ˆ</button>
        <button class="btn" onclick="saveProfile()">å„²å­˜</button>
      </div>
    </div>
  </div>

  <!-- æ›´æ”¹å¯†ç¢¼æ¨¡æ…‹æ¡† -->
  <div id="passwordModal" class="modal">
    <div class="modal-content">
      <div class="modal-title">æ›´æ”¹å¯†ç¢¼</div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ç›®å‰å¯†ç¢¼</label>
          <input type="password" class="form-input" id="currentPassword" placeholder="è«‹è¼¸å…¥ç›®å‰å¯†ç¢¼">
        </div>
        <div class="form-group">
          <label class="form-label">æ–°å¯†ç¢¼</label>
          <input type="password" class="form-input" id="newPassword" placeholder="è«‹è¼¸å…¥æ–°å¯†ç¢¼">
        </div>
        <div class="form-group">
          <label class="form-label">ç¢ºèªæ–°å¯†ç¢¼</label>
          <input type="password" class="form-input" id="confirmPassword" placeholder="è«‹å†æ¬¡è¼¸å…¥æ–°å¯†ç¢¼">
        </div>
      </div>
      <div class="modal-actions">
        <button class="btn btn-secondary" onclick="closePasswordModal()">å–æ¶ˆ</button>
        <button class="btn" onclick="savePassword()">æ›´æ”¹å¯†ç¢¼</button>
      </div>
    </div>
  </div>

  <script>
    let currentEditField = '';
    let previewTimeout = null;
    let currentTheme = 'dark';

    // Toast ç³»çµ±
    class ToastManager {
      constructor() {
        this.container = document.getElementById('toastContainer');
        this.toasts = [];
      }

      show(message, type = 'info', duration = 4000) {
        const toast = this.createToast(message, type, duration);
        
        // ç‚ºé è¦½é¡å‹æ·»åŠ ç‰¹æ®Šæ¨£å¼
        if (type === 'preview') {
          toast.classList.add('toast-preview');
        }
        
        this.container.appendChild(toast);
        this.toasts.push(toast);

        // è§¸ç™¼é¡¯ç¤ºå‹•ç•«
        setTimeout(() => {
          toast.classList.add('show');
        }, 10);

        // è‡ªå‹•ç§»é™¤
        if (duration > 0) {
          setTimeout(() => {
            this.remove(toast);
          }, duration);
        }

        return toast;
      }

      createToast(message, type, duration) {
        const toast = document.createElement('div');
        toast.className = `toast toast-${type}`;

        const icons = {
          success: 'âœ“',
          error: 'âœ•',
          warning: 'âš ',
          info: 'â„¹',
          preview: 'ğŸ‘ï¸'
        };

        const titles = {
          success: 'æˆåŠŸ',
          error: 'éŒ¯èª¤',
          warning: 'è­¦å‘Š',
          info: 'æç¤º',
          preview: 'é è¦½ä¸­'
        };

        toast.innerHTML = `
          <div class="toast-header">
            <div class="toast-title">
              <span class="toast-icon">${icons[type]}</span>
              ${titles[type]}
            </div>
            <button class="toast-close" onclick="toastManager.remove(this.closest('.toast'))">&times;</button>
          </div>
          <div class="toast-message">${message}</div>
          ${duration > 0 ? `<div class="toast-progress" style="width: 100%; animation: shrink ${duration}ms linear;"></div>` : ''}
        `;

        // æ·»åŠ é€²åº¦æ¢å‹•ç•«
        if (duration > 0) {
          const style = document.createElement('style');
          style.textContent = `
            @keyframes shrink {
              from { width: 100%; }
              to { width: 0%; }
            }
          `;
          document.head.appendChild(style);
        }

        return toast;
      }

      remove(toast) {
        if (!toast || !toast.parentNode) return;

        toast.classList.add('hide');
        setTimeout(() => {
          if (toast.parentNode) {
            toast.remove();
            this.toasts = this.toasts.filter(t => t !== toast);
          }
        }, 300);
      }

      success(message, duration = 4000) {
        return this.show(message, 'success', duration);
      }

      error(message, duration = 5000) {
        return this.show(message, 'error', duration);
      }

      warning(message, duration = 4500) {
        return this.show(message, 'warning', duration);
      }

      info(message, duration = 4000) {
        return this.show(message, 'info', duration);
      }

      preview(message, duration = 0) {
        return this.show(message, 'preview', duration);
      }
    }

    // å‰µå»ºå…¨åŸŸ toast ç®¡ç†å™¨
    const toastManager = new ToastManager();

    // é¡¯ç¤ºä¸åŒè¨­å®šå€å¡Š
    function showSection(element, section) {
      // ç§»é™¤æ‰€æœ‰é¸å–®é …ç›®çš„ active ç‹€æ…‹
      document.querySelectorAll('.sidebar li').forEach(li => li.classList.remove('active'));
      element.classList.add('active');

      // éš±è—æ‰€æœ‰å€å¡Š
      document.querySelectorAll('.settings-section').forEach(section => {
        section.style.display = 'none';
      });

      // é¡¯ç¤ºé¸ä¸­çš„å€å¡Š
      if (section === 'profile') {
        document.getElementById('profile-section').style.display = 'block';
      } else if (section === 'theme') {
        document.getElementById('theme-section').style.display = 'block';
      }
    }

    // ç·¨è¼¯å€‹äººè³‡æ–™
    function editProfile(field) {
      currentEditField = field;
      const modal = document.getElementById('editModal');
      const title = document.getElementById('modalTitle');
      const label = document.getElementById('modalLabel');
      const input = document.getElementById('modalInput');

      if (field === 'name') {
        title.textContent = 'ç·¨è¼¯å§“å';
        label.textContent = 'å§“å';
        input.placeholder = 'è«‹è¼¸å…¥æ–°çš„å§“å';
        input.value = document.getElementById('userName').textContent;
        input.type = 'text';
      } else if (field === 'email') {
        title.textContent = 'ç·¨è¼¯éƒµç®±';
        label.textContent = 'éƒµç®±';
        input.placeholder = 'è«‹è¼¸å…¥æ–°çš„éƒµç®±åœ°å€';
        input.value = document.getElementById('userEmail').textContent;
        input.type = 'email';
      }

      modal.classList.add('show');
    }

    // å„²å­˜å€‹äººè³‡æ–™
    function saveProfile() {
      const input = document.getElementById('modalInput');
      const value = input.value.trim();

      if (!value) {
        toastManager.error('è«‹è¼¸å…¥æœ‰æ•ˆçš„å…§å®¹');
        return;
      }

      if (currentEditField === 'name') {
        document.getElementById('userName').textContent = value;
        toastManager.success('å§“åå·²æ›´æ–°');
      } else if (currentEditField === 'email') {
        if (!isValidEmail(value)) {
          toastManager.error('è«‹è¼¸å…¥æœ‰æ•ˆçš„éƒµç®±åœ°å€');
          return;
        }
        document.getElementById('userEmail').textContent = value;
        toastManager.success('éƒµç®±å·²æ›´æ–°');
      }

      closeModal();
    }

    // é©—è­‰éƒµç®±æ ¼å¼
    function isValidEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

    // é—œé–‰ç·¨è¼¯æ¨¡æ…‹æ¡†
    function closeModal() {
      document.getElementById('editModal').classList.remove('show');
      document.getElementById('modalInput').value = '';
    }

    // æ›´æ”¹å¯†ç¢¼
    function changePassword() {
      document.getElementById('passwordModal').classList.add('show');
    }

    // å„²å­˜æ–°å¯†ç¢¼
    function savePassword() {
      const current = document.getElementById('currentPassword').value;
      const newPwd = document.getElementById('newPassword').value;
      const confirm = document.getElementById('confirmPassword').value;

      if (!current || !newPwd || !confirm) {
        toastManager.warning('è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½');
        return;
      }

      if (newPwd !== confirm) {
        toastManager.error('æ–°å¯†ç¢¼èˆ‡ç¢ºèªå¯†ç¢¼ä¸ä¸€è‡´');
        return;
      }

      if (newPwd.length < 6) {
        toastManager.error('å¯†ç¢¼é•·åº¦è‡³å°‘éœ€è¦6å€‹å­—ç¬¦');
        return;
      }

      // æ¨¡æ“¬å¯†ç¢¼æ›´æ–°
      toastManager.success('å¯†ç¢¼å·²æˆåŠŸæ›´æ–°');
      closePasswordModal();
    }

    // é—œé–‰å¯†ç¢¼æ¨¡æ…‹æ¡†
    function closePasswordModal() {
      document.getElementById('passwordModal').classList.remove('show');
      document.getElementById('currentPassword').value = '';
      document.getElementById('newPassword').value = '';
      document.getElementById('confirmPassword').value = '';
    }

    // ç™»å‡º
    function logout() {
      if (confirm('ç¢ºå®šè¦ç™»å‡ºå—ï¼Ÿ')) {
        toastManager.info('å·²ç™»å‡ºï¼Œå³å°‡è¿”å›ç™»å…¥é é¢');
        // é€™è£¡å¯ä»¥æ·»åŠ å¯¦éš›çš„ç™»å‡ºé‚è¼¯
        // setTimeout(() => {
        //   window.location.href = 'login.html';
        // }, 2000);
      }
    }

    // é¸æ“‡ä¸»é¡Œ
    function selectTheme(element, theme) {
      document.querySelectorAll('.theme-card').forEach(card => {
        card.classList.remove('active');
      });
      element.classList.add('active');
    }

    // é è¦½ä¸»é¡Œ
    function previewTheme(theme) {
      // å„²å­˜ç•¶å‰ä¸»é¡Œ
      const originalTheme = currentTheme;
      
      // æ¸…é™¤ä¹‹å‰çš„é è¦½
      clearPreview();
      
      // å¥—ç”¨é è¦½ä¸»é¡Œ
      applyThemeClass(theme);
      
      // ä½¿ç”¨ toast é¡¯ç¤ºé è¦½ä¿¡æ¯
      let countdown = 5;
      const previewToast = toastManager.preview(
        `æ­£åœ¨é è¦½ï¼š${getThemeName(theme)}ä¸»é¡Œ - ${countdown}ç§’å¾Œè‡ªå‹•æ¢å¾©`
      );
      
      // æ¯ç§’æ›´æ–°å€’æ•¸
      window.previewInterval = setInterval(() => {
        countdown--;
        if (countdown > 0) {
          const messageElement = previewToast.querySelector('.toast-message');
          if (messageElement) {
            messageElement.textContent = `æ­£åœ¨é è¦½ï¼š${getThemeName(theme)}ä¸»é¡Œ - ${countdown}ç§’å¾Œè‡ªå‹•æ¢å¾©`;
          }
        }
      }, 1000);
      
      // 5ç§’å¾Œæ¢å¾©åŸä¸»é¡Œ
      window.previewTimeout = setTimeout(() => {
        clearPreview();
        applyThemeClass(originalTheme);
        toastManager.remove(previewToast);
      }, 5000);
      
      // å„²å­˜é è¦½ toast å¼•ç”¨
      window.currentPreviewToast = previewToast;
    }

    // æ¸…é™¤é è¦½ç‹€æ…‹
    function clearPreview() {
      // æ¸…é™¤å®šæ™‚å™¨
      if (window.previewTimeout) {
        clearTimeout(window.previewTimeout);
        window.previewTimeout = null;
      }
      if (window.previewInterval) {
        clearInterval(window.previewInterval);
        window.previewInterval = null;
      }
      
      // ç§»é™¤é è¦½ toast
      if (window.currentPreviewToast) {
        toastManager.remove(window.currentPreviewToast);
        window.currentPreviewToast = null;
      }
    }

    // å¥—ç”¨ä¸»é¡Œ
    function applyTheme(theme) {
      // æ¸…é™¤é è¦½ç‹€æ…‹
      clearPreview();
      
      currentTheme = theme;
      applyThemeClass(theme);
      
      // å„²å­˜ä¸»é¡Œè¨­å®šåˆ° localStorage
      localStorage.setItem('selectedTheme', theme);
      
      toastManager.success(`å·²å¥—ç”¨${getThemeName(theme)}ä¸»é¡Œ`);
    }

    // å¥—ç”¨ä¸»é¡Œé¡åˆ¥
    function applyThemeClass(theme) {
      const body = document.body;
      
      // ç§»é™¤æ‰€æœ‰ä¸»é¡Œé¡åˆ¥
      body.classList.remove('theme-blue', 'theme-pink', 'theme-sky', 'theme-light');
      
      // å¥—ç”¨æ–°ä¸»é¡Œ
      if (theme !== 'dark') {
        body.classList.add(`theme-${theme}`);
      }
    }

    // ç²å–ä¸»é¡Œåç¨±
    function getThemeName(theme) {
      const names = {
        'dark': 'æ·±è‰²',
        'blue': 'æ·±è—è‰²',
        'pink': 'ç²‰è‰²',
        'sky': 'å¤©ç©ºè—',
        'light': 'äº®è‰²'
      };
      return names[theme] || 'æ·±è‰²';
    }

    // åˆå§‹åŒ–é é¢
    function initializePage() {
      // å¾ localStorage è¼‰å…¥å·²å„²å­˜çš„ä¸»é¡Œ
      const savedTheme = localStorage.getItem('selectedTheme') || 'dark';
      currentTheme = savedTheme;
      applyThemeClass(savedTheme);
      
      // è¨­å®šå°æ‡‰çš„ä¸»é¡Œå¡ç‰‡ç‚ºé¸ä¸­ç‹€æ…‹
      document.querySelectorAll('.theme-card').forEach(card => {
        card.classList.remove('active');
        if (card.dataset.theme === savedTheme) {
          card.classList.add('active');
        }
      });
    }

    // é»æ“Šæ¨¡æ…‹æ¡†å¤–éƒ¨é—œé–‰
    document.getElementById('editModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeModal();
      }
    });

    document.getElementById('passwordModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closePasswordModal();
      }
    });

    // é é¢è¼‰å…¥å®Œæˆå¾Œåˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', initializePage);
  </script>
</body>
</html>